<!--begin::Sidebar-->
<aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="dark">
  <!--begin::Sidebar Brand-->
  <div class="sidebar-brand">
    <!--begin::Brand Link-->
    <a href="{{ url_for('dashboard.dashboard') }}" class="brand-link">
      <!--begin::Brand Image-->
      <img src="{{ url_for('static', filename='assets/img/AdminLTELogo.png') }}" alt="AdminLTE Logo"
        class="brand-image opacity-75 shadow" />
      <!--end::Brand Image-->
      <!--begin::Brand Text-->
      <span class="brand-text fw-light">IntellexIA</span>
      <!--end::Brand Text-->
    </a>
    <!--end::Brand Link-->
  </div>
  <!--end::Sidebar Brand-->
  <!--begin::Sidebar Wrapper-->
  <div class="sidebar-wrapper">
    <nav class="mt-2">
      <!--begin::Sidebar Menu-->
      <ul class="nav sidebar-menu flex-column" data-lte-toggle="treeview" role="navigation" aria-label="Main navigation"
        data-accordion="false" id="navigation">
        <li
          class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('dashboard.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('dashboard.') else '' }}">
            <i class="nav-icon bi bi-speedometer"></i>
            <p>
              Dashboard
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('dashboard.dashboard') }}"
                class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('dashboard.') else '' }}">
                <i class="nav-icon bi bi-graph-up"></i>
                <p>Dashboard Principal</p>
              </a>
            </li>
          </ul>
        </li>

        <li
          class="nav-item {{ 'menu-open' if request.endpoint and (request.endpoint.startswith('cases.') or request.endpoint.startswith('benefits.') or request.endpoint.startswith('documents.') or request.endpoint.startswith('petitions.')) else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and (request.endpoint.startswith('cases.') or request.endpoint.startswith('benefits.') or request.endpoint.startswith('documents.') or request.endpoint.startswith('petitions.')) else '' }}">
            <i class="nav-icon bi bi-newspaper"></i>
            <p>
              Casos
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('cases.cases_list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'cases.cases_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Casos</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('cases.case_new') }}"
                class="nav-link {{ 'active' if request.endpoint == 'cases.case_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Novo Caso</p>
              </a>
            </li>
          </ul>
        </li>

        <li
          class="nav-item {{ 'menu-open' if request.endpoint and (request.endpoint.startswith('tools.') or request.endpoint == 'assistant.legal_assistant') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and (request.endpoint.startswith('tools.') or request.endpoint == 'assistant.legal_assistant') else '' }}">
            <i class="nav-icon bi bi-tools"></i>
            <p>
              Ferramentas
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('assistant.legal_assistant') }}"
                class="nav-link {{ 'active' if request.endpoint == 'assistant.legal_assistant' else '' }}">
                <i class="nav-icon bi bi-robot"></i>
                <p>Assistente Jurídico</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('tools.tools_document_summary_list') }}"
                class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('tools.tools_document_summary') else '' }}">
                <i class="nav-icon bi bi-robot"></i>
                <p>Análise de Documento</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('clients.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('clients.') else '' }}">
            <i class="nav-icon bi bi-people"></i>
            <p>
              Clientes
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('clients.clients_list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'clients.clients_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Clientes</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('clients.client_new') }}"
                class="nav-link {{ 'active' if request.endpoint == 'clients.client_new' else '' }}">
                <i class="nav-icon bi bi-building-add"></i>
                <p>Novo Cliente</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('lawyers.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('lawyers.') else '' }}">
            <i class="nav-icon bi bi-briefcase"></i>
            <p>
              Advogados
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('lawyers.lawyers_list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'lawyers.lawyers_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Advogados</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('lawyers.lawyer_new') }}"
                class="nav-link {{ 'active' if request.endpoint == 'lawyers.lawyer_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Novo Advogado</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('courts.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('courts.') else '' }}">
            <i class="nav-icon bi bi-bank"></i>
            <p>
              Varas Judiciais
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('courts.courts_list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'courts.courts_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Varas</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('courts.court_new') }}"
                class="nav-link {{ 'active' if request.endpoint == 'courts.court_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Nova Vara</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('benefits.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('benefits.') else '' }}">
            <i class="nav-icon bi bi-card-list"></i>
            <p>
              Benefícios
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('benefits.benefits_list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'benefits.benefits_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Todos os Benefícios</p>
              </a>
            </li>
          </ul>
        </li>

        <li
          class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('knowledge_base.') else '' }}">
          <a href="#"
            class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('knowledge_base.') else '' }}">
            <i class="nav-icon bi bi-book"></i>
            <p>
              Base de Conhecimento
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('knowledge_base.search_chat') }}"
                class="nav-link {{ 'active' if request.endpoint == 'knowledge_base.search_chat' else '' }}">
                <i class="nav-icon bi bi-search"></i>
                <p>Pesquisar com IA</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('knowledge_base.list') }}"
                class="nav-link {{ 'active' if request.endpoint == 'knowledge_base.list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Listar Arquivos</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('knowledge_base.upload') }}"
                class="nav-link {{ 'active' if request.endpoint == 'knowledge_base.upload' else '' }}">
                <i class="nav-icon bi bi-cloud-upload"></i>
                <p>Adicionar Arquivo</p>
              </a>
            </li>
          </ul>
        </li>

        {% if session.get('user_role') == 'admin' %}
        <li class="nav-header">ADMINISTRAÇÃO</li>

        <li class="nav-item">
          <a href="{{ url_for('settings.law_firm_settings') }}"
            class="nav-link {{ 'active' if request.endpoint == 'settings.law_firm_settings' else '' }}">
            <i class="nav-icon bi bi-gear"></i>
            <p>Configurações do Escritório</p>
          </a>
        </li>

        <li class="nav-item">
          <a href="{{ url_for('admin_users.list_users') }}"
            class="nav-link {{ 'active' if request.endpoint in ['admin_users.list_users'] else '' }}">
            <i class="nav-icon bi bi-people"></i>
            <p>Usuários do Sistema</p>
          </a>
        </li>
        {% endif %}
      </ul>
      <!--end::Sidebar Menu-->
    </nav>
  </div>
  <!--end::Sidebar Wrapper-->
</aside>
<!--end::Sidebar-->