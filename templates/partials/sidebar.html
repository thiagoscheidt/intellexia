<!--begin::Sidebar-->
<aside class="app-sidebar bg-body-secondary shadow" data-bs-theme="dark">
  <!--begin::Sidebar Brand-->
  <div class="sidebar-brand">
    <!--begin::Brand Link-->
    <a href="{{ url_for('index') }}" class="brand-link">
      <!--begin::Brand Image-->
      <img
        src="{{ url_for('static', filename='assets/img/AdminLTELogo.png') }}"
        alt="AdminLTE Logo"
        class="brand-image opacity-75 shadow"
      />
      <!--end::Brand Image-->
      <!--begin::Brand Text-->
      <span class="brand-text fw-light">IntellexIA</span>
      <!--end::Brand Text-->
    </a>
    <!--end::Brand Link-->
  </div>
  <!--end::Sidebar Brand-->
  <!--begin::Sidebar Wrapper-->
  <div class="sidebar-wrapper">
    <nav class="mt-2">
      <!--begin::Sidebar Menu-->
      <ul
        class="nav sidebar-menu flex-column"
        data-lte-toggle="treeview"
        role="navigation"
        aria-label="Main navigation"
        data-accordion="false"
        id="navigation"
      >
        <li class="nav-item {{ 'menu-open' if request.endpoint and (request.endpoint == 'dashboard' or request.endpoint == 'index') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and (request.endpoint == 'dashboard' or request.endpoint == 'index') else '' }}">
            <i class="nav-icon bi bi-speedometer"></i>
            <p>
              Dashboard
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('dashboard') }}" class="nav-link {{ 'active' if request.endpoint == 'dashboard' or request.endpoint == 'index' else '' }}">
                <i class="nav-icon bi bi-graph-up"></i>
                <p>Dashboard Principal</p>
              </a>
            </li>
          </ul>
        </li>
        
        <li class="nav-item">
          <a href="{{ url_for('legal_assistant') }}" class="nav-link {{ 'active' if request.endpoint == 'legal_assistant' else '' }}">
            <i class="nav-icon bi bi-robot"></i>
            <p>Assistente Jurídico</p>
          </a>
        </li>
        
        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('tools_') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('tools_') else '' }}">
            <i class="nav-icon bi bi-tools"></i>
            <p>
              Ferramentas
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('tools_document_summary_list') }}" class="nav-link {{ 'active' if request.endpoint and 'document_summary' in request.endpoint else '' }}">
                <i class="nav-icon bi bi-brain"></i>
                <p>Resumo de Documento</p>
              </a>
            </li>
          </ul>
        </li>
        
        <li class="nav-item {{ 'menu-open' if request.endpoint and (request.endpoint.startswith('case') or request.endpoint.startswith('benefit') or 'case_' in request.endpoint or 'benefit' in request.endpoint or 'document' in request.endpoint) else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and (request.endpoint.startswith('case') or request.endpoint.startswith('benefit') or 'case_' in request.endpoint or 'benefit' in request.endpoint or 'document' in request.endpoint) else '' }}">
            <i class="nav-icon bi bi-newspaper"></i>
            <p>
              Casos
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('cases_list') }}" class="nav-link {{ 'active' if request.endpoint == 'cases_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Casos</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('case_new') }}" class="nav-link {{ 'active' if request.endpoint == 'case_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Novo Caso</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('client') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('client') else '' }}">
            <i class="nav-icon bi bi-people"></i>
            <p>
              Clientes
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('clients_list') }}" class="nav-link {{ 'active' if request.endpoint == 'clients_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Clientes</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('client_new') }}" class="nav-link {{ 'active' if request.endpoint == 'client_new' else '' }}">
                <i class="nav-icon bi bi-building-add"></i>
                <p>Novo Cliente</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('lawyer') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('lawyer') else '' }}">
            <i class="nav-icon bi bi-briefcase"></i>
            <p>
              Advogados
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('lawyers_list') }}" class="nav-link {{ 'active' if request.endpoint == 'lawyers_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Advogados</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('lawyer_new') }}" class="nav-link {{ 'active' if request.endpoint == 'lawyer_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Novo Advogado</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('court') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('court') else '' }}">
            <i class="nav-icon bi bi-bank"></i>
            <p>
              Varas Judiciais
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('courts_list') }}" class="nav-link {{ 'active' if request.endpoint == 'courts_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Lista de Varas</p>
              </a>
            </li>
            <li class="nav-item">
              <a href="{{ url_for('court_new') }}" class="nav-link {{ 'active' if request.endpoint == 'court_new' else '' }}">
                <i class="nav-icon bi bi-plus-square"></i>
                <p>Nova Vara</p>
              </a>
            </li>
          </ul>
        </li>

        <li class="nav-item {{ 'menu-open' if request.endpoint and request.endpoint.startswith('benefit') else '' }}">
          <a href="#" class="nav-link {{ 'active' if request.endpoint and request.endpoint.startswith('benefit') else '' }}">
            <i class="nav-icon bi bi-card-list"></i>
            <p>
              Benefícios
              <i class="nav-arrow bi bi-chevron-right"></i>
            </p>
          </a>
          <ul class="nav nav-treeview">
            <li class="nav-item">
              <a href="{{ url_for('benefits_list') }}" class="nav-link {{ 'active' if request.endpoint == 'benefits_list' else '' }}">
                <i class="nav-icon bi bi-list"></i>
                <p>Todos os Benefícios</p>
              </a>
            </li>
          </ul>
        </li>

        {% if session.get('user_role') == 'admin' %}
        <li class="nav-header">ADMINISTRAÇÃO</li>
        
        <li class="nav-item">
          <a href="{{ url_for('law_firm_settings') }}" class="nav-link {{ 'active' if request.endpoint == 'law_firm_settings' else '' }}">
            <i class="nav-icon bi bi-gear"></i>
            <p>Configurações do Escritório</p>
          </a>
        </li>
        {% endif %}
      </ul>
      <!--end::Sidebar Menu-->
    </nav>
  </div>
  <!--end::Sidebar Wrapper-->
</aside>
<!--end::Sidebar-->